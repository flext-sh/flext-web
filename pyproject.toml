[build-system]
requires = [ "poetry-core>=1.9.0",]
build-backend = "poetry.core.masonry.api"

[project]
name = "flext-web"
version = "0.9.0"
description = "FLEXT Web - Modern Web Interface for FLEXT Platform"
readme = "README.md"
requires-python = ">=3.13,<3.14"
keywords = [ "flext", "enterprise", "async", "typed", "web", "frontend", "django",]
classifiers = [ "Development Status :: 5 - Production/Stable", "Intended Audience :: Developers", "License :: OSI Approved :: MIT License", "Operating System :: OS Independent", "Programming Language :: Python :: 3.13", "Programming Language :: Python :: 3 :: Only", "Topic :: Software Development :: Libraries :: Python Modules", "Typing :: Typed", "Topic :: Internet :: WWW/HTTP :: Dynamic Content", "Framework :: Django",]
dependencies = [ "flask (>=3.0.0)", "pydantic (>=2.11.7)", "pydantic-settings (>=2.10.1)", "django (>=5.0.0)", "fastapi (>=0.116.0)", "celery (>=5.5.3)",]
[[project.authors]]
name = "FLEXT Team"
email = "team@flext.sh"

[[project.maintainers]]
name = "FLEXT Team"
email = "team@flext.sh"

[project.license]
text = "MIT"

[project.urls]
Homepage = "https://github.com/flext-sh/flext"
Repository = "https://github.com/flext-sh/flext"
Documentation = "https://github.com/flext-sh/flext/blob/main/README.md"

[project.scripts]
flext-web = "flext_web.__main__:main"

[project.optional-dependencies]
dev = [ "ruff>=0.12.3", "black>=25.1.0", "isort>=6.0.1", "pylint>=3.3.0", "pre-commit>=4.0.1", "vulture>=2.13", "radon>=6.0.1", "codespell>=2.3.0", "pyupgrade>=3.19.0", "autoflake>=2.3.1",]
test = [ "pytest>=8.4.0", "pytest-asyncio>=1.0.0", "pytest-cov>=6.2.0", "pytest-xdist>=3.8.0", "pytest-mock>=3.14.0", "pytest-timeout>=2.4.0", "pytest-benchmark>=5.1.0", "pytest-randomly>=3.16.0", "pytest-sugar>=1.0.0", "pytest-clarity>=1.0.1", "pytest-deadfixtures>=2.2.1", "pytest-env>=1.1.5", "pytest-httpx>=0.35.0", "hypothesis>=6.125.0", "factory-boy>=3.3.1", "faker>=37.4.0",]
typings = [ "types-python-dateutil>=2.9.0", "types-pyyaml>=6.0.12", "types-setuptools>=80.9.0", "types-toml>=0.10.8.20240310", "types-requests>=2.32.4", "types-redis>=4.6.0", "types-psutil>=7.0.0",]
security = [ "bandit>=1.8.0", "pip-audit>=2.7.3",]

[tool.ruff]
extend = "../ruff-shared.toml"

[tool.bandit]
exclude_dirs = [ "tests", "build", "dist",]
skips = [ "B101", "B601",]

[tool.deptry]
known_first_party = [ "flext_web",]

[tool.pyrefly]
python_version = "3.13"
target_version = "3.13"
show_error_codes = true

[tool.ruff.lint]
ignore = [ "S104", "S105", "S101", "PLR2004", "S112", "S404",]

[tool.pytest.ini_options]
minversion = "8.0"
asyncio_mode = "auto"
addopts = [ "-ra", "--strict-config", "--maxfail=1", "--tb=short",]
testpaths = [ "tests",]
markers = [ "unit: Unit tests", "integration: Integration tests", "slow: Slow tests", "smoke: Smoke tests", "e2e: End-to-end tests", "concurrency: Concurrency tests", "performance: Performance tests", "api: API tests", "web: Web interface tests", "race_condition: Race condition tests", "stress: Stress tests", "benchmark: Benchmark tests", "memory: Memory tests", "db: Database tests", "network: Network tests",]

[tool.coverage.run]
source = [ "src",]
branch = true
omit = [ "*/tests/*", "*/test_*", "*/__pycache__/*", "*/venv/*", "*/.venv/*",]

[tool.coverage.report]
exclude_lines = [ "pragma: no cover", "def __repr__", "if self.debug:", "if settings.DEBUG", "raise AssertionError", "raise NotImplementedError", "if 0:", "if __name__ == .__main__.:", "class .*\\bProtocol\\):", "@(abc\\.)?abstractmethod",]

[tool.coverage.html]
directory = "reports/coverage"

[tool.coverage.xml]
output = "reports/coverage.xml"

[tool.poetry.dependencies]
python = ">=3.13,<3.14"
djangorestframework = ">=3.14.0"

[tool.ruff.lint.isort]
known-first-party = [ "flext_web",]

[tool.poetry.dependencies.flext-core]
path = "../flext-core"
develop = true

[tool.poetry.dependencies.flext-observability]
path = "../flext-observability"
develop = true

[tool.poetry.group.dev.dependencies]
detect-secrets = ">=1.5.0"
commitizen = ">=4.8.3"
pyrefly = "^0.34.0"
